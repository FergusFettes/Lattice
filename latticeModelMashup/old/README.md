This was the first working version with both the Ising and Potts model. Ill leave it here in case I break everything and need a quick fix.
